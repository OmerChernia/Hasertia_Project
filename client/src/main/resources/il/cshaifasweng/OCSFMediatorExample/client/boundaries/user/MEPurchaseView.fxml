<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane fx:id="ME_pane" prefHeight="800" prefWidth="1000" stylesheets="@../../css/me-purchase.css" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="il.cshaifasweng.OCSFMediatorExample.client.boundaries.user.MEPurchaseBoundary">
   <top>
      <HBox alignment="CENTER" spacing="20" styleClass="step-indicator">
         <Label fx:id="step1Label" styleClass="step-label" text="1" />
         <Label fx:id="step1Text" styleClass="step-text" text="Select Package" />
         <Label fx:id="step2Label" styleClass="step-label" text="2" />
         <Label fx:id="step2Text" styleClass="step-text" text="Payment Details" />
      </HBox>
   </top>

   <center>
      <ScrollPane fitToHeight="true" fitToWidth="true">
         <StackPane fx:id="stackPane">
            <!-- Package Selection Pane -->
            <VBox fx:id="packageSelectionPane" alignment="TOP_CENTER" spacing="30" styleClass="content-pane">
               <Label styleClass="section-title" text="Select Package" />
               <VBox alignment="CENTER" maxWidth="420" spacing="20" styleClass="package-container">
                  <Label styleClass="package-title" text="Subscription card (20 movie tickets)" />
                  <GridPane hgap="15" styleClass="package-details" vgap="10">
                     <Label text="Type" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label styleClass="highlight-text" text="VIP" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label text="Price" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label styleClass="highlight-text" text="â‚ª290.00" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <columnConstraints>
                        <ColumnConstraints />
                        <ColumnConstraints />
                     </columnConstraints>
                     <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                     </rowConstraints>
                  </GridPane>
               </VBox>
               <Button onAction="#goToPaymentDetails" styleClass="button-primary" text="Next" />
            </VBox>

            <!-- Payment Details Pane -->
            <VBox fx:id="paymentDetailsPane" alignment="TOP_CENTER" spacing="30" styleClass="content-pane">
               <Label styleClass="section-title" text="Payment Details" />
               <Label fx:id="timerLabel" styleClass="timer-label" text="10:00" visible="false" />
               <GridPane alignment="CENTER" hgap="15" styleClass="form-grid" vgap="15">
                  <Label text="First Name:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                  <TextField fx:id="firstNameTF" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                  <Label text="Last Name:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                  <TextField fx:id="lastNameTF" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                  <Label text="ID Number:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                  <TextField fx:id="idNumberTF" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  <Label text="Confirm ID Number:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                  <TextField fx:id="confirmIdNumberTF" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                  <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                  <TextField fx:id="emailTF" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                  <Label text="Confirm Email:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                  <TextField fx:id="confirmEmailTF" GridPane.columnIndex="1" GridPane.rowIndex="5" />
                  <columnConstraints>
                     <ColumnConstraints />
                     <ColumnConstraints />
                  </columnConstraints>
                  <rowConstraints>
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                  </rowConstraints>
               </GridPane>
               <HBox alignment="CENTER" spacing="20">
                  <Button onAction="#goToPackageSelection" styleClass="button-secondary" text="Back" />
                  <Button onAction="#showCreditCardFields" styleClass="button-primary" text="Pay with Credit Card" />
               </HBox>

               <VBox alignment="CENTER">
                  <VBox fx:id="creditCardPane" alignment="CENTER" maxWidth="400" spacing="20" styleClass="sub-pane" visible="false">
                     <Label styleClass="label-large" text="Credit Card Payment" />
                     <GridPane alignment="CENTER" hgap="15" vgap="15">
                        <Label text="Card Number:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <TextField fx:id="cardNumberField" promptText="1234-5678-9012-3456" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <Label text="Expiration Date:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="1">
                           <ComboBox fx:id="expirationMonthCombo" promptText="MM" />
                           <ComboBox fx:id="expirationYearCombo" promptText="YYYY" />
                        </HBox>

                        <Label text="CVV:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <TextField fx:id="cvvField" promptText="123" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                        <columnConstraints>
                           <ColumnConstraints halignment="RIGHT" />
                           <ColumnConstraints hgrow="ALWAYS" />
                        </columnConstraints>
                        <rowConstraints>
                           <RowConstraints />
                           <RowConstraints />
                           <RowConstraints />
                        </rowConstraints>
                     </GridPane>
                     <HBox alignment="CENTER" spacing="20">
                        <Button onAction="#cancelPayment" styleClass="button-secondary" text="Cancel" />
                        <Button onAction="#submitPayment" styleClass="button-primary" text="Pay Now" />
                     </HBox>
                  </VBox>
               </VBox>
            </VBox>

            <!-- Package Confirmation Pane -->
            <VBox fx:id="packageConfirmationPane" alignment="TOP_CENTER" spacing="30" styleClass="content-pane">
               <Label styleClass="section-title, confirmation-title" text="Package Confirmation" />
               <ImageView fx:id="confirmationPackageImage" fitHeight="150" fitWidth="150" pickOnBounds="true" preserveRatio="true" />
               <Label fx:id="confirmationDetails" styleClass="confirmation-details" />
               <Label fx:id="pricePaidLabel" styleClass="confirmation-price" />
            </VBox>
         </StackPane>
      </ScrollPane>
   </center>
</BorderPane>
